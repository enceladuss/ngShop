<div class="product-page">

  <div class="container active-loader loader-parent" *ngIf="loading">
    <div class="loader-wrap">
      <img class="loader-svg" src='assets/img/loader.svg'>
    </div>
  </div>

  <section class="product" *ngIf="product">

    <nav class="product-breadcrumbs">
      <ul>
        <li>
          <a routerLink="/">Main page</a>
          <svg viewBox="0 0 24 24" id="icon-chevron-down">
            <path
              d="m6.91162 9.08844c.38927-.38927 1.0203-.38961 1.41-.00076l3.88458 3.87612 3.8847-3.87612c.3896-.38885 1.0207-.38851 1.4099.00076.3896.38958.3896 1.02116 0 1.41076l-5.2946 5.2946-5.29458-5.2946c-.38957-.3896-.38957-1.02118 0-1.41076z"></path>
          </svg>
        </li>

        <li>
          <a routerLink="/products/{{ product.type | lowercase }}s">{{ product.type }}s</a>
          <svg viewBox="0 0 24 24" id="icon-chevron-down">
            <path
              d="m6.91162 9.08844c.38927-.38927 1.0203-.38961 1.41-.00076l3.88458 3.87612 3.8847-3.87612c.3896-.38885 1.0207-.38851 1.4099.00076.3896.38958.3896 1.02116 0 1.41076l-5.2946 5.2946-5.29458-5.2946c-.38957-.3896-.38957-1.02118 0-1.41076z"></path>
          </svg>
        </li>

        <li>
          <span>{{ product.title }}</span>
        </li>
      </ul>
    </nav>

    <div class="flex product-wrap">

      <div class="product-content-wrap">

        <div class="product-content" id="product-content">

          <div class="product-title">
            <h1> {{ product.title }} </h1>
          </div>

          <div class="product-photo">
            <div class="product-photo-slider keen-slider" *ngIf="product.photo" #sliderRef>
              <!--              <div *ngFor="let photo of product.photo; let idx = index" class="product-photo-slider-item">-->
              <!--                <img src="{{photo.content}}">-->
              <!--              </div>-->

              <div *ngFor="let photo of product.photo; let idx = index" class="product-photo-slider-item keen-slider__slide" >
                <img src="{{photo.content}}">
              </div>

            </div>
            <img *ngIf="!product.photo" src='assets/img/no-image-icon-res.png'>
          </div>

          <div class="product-title-price">
            <p>{{product.price}} <span>$</span></p>

            <button class="btn btn-dark success-btn open-cart-popup" (click)="addToCart(product)">

              <svg width="24px" height="24px" viewBox="0 0 24 24" fill="#fff" id="icon-basket">
                <g>
                  <path fill-rule="evenodd" clip-rule="evenodd"
                        d="M1 2C0.447715 2 0 2.44772 0 3C0 3.55228 0.447715 4 1 4H2.68121C3.08124 4 3.44277 4.2384 3.60035 4.60608L8.44161 15.9023C9.00044 17.2063 10.3963 17.9405 11.7874 17.6623L19.058 16.2082C20.1137 15.9971 20.9753 15.2365 21.3157 14.2151L23.0712 8.94868C23.7187 7.00609 22.2728 5 20.2251 5H5.94511L5.43864 3.81824C4.96591 2.71519 3.88129 2 2.68121 2H1ZM10.2799 15.1145L6.80225 7H20.2251C20.9077 7 21.3897 7.6687 21.1738 8.31623L19.4183 13.5827C19.3049 13.9231 19.0177 14.1767 18.6658 14.247L11.3952 15.7012C10.9315 15.7939 10.4662 15.5492 10.2799 15.1145Z"></path>
                  <path
                    d="M11 22C11 23.1046 10.1046 24 9 24C7.89543 24 7 23.1046 7 22C7 20.8954 7.89543 20 9 20C10.1046 20 11 20.8954 11 22Z"></path>
                  <path
                    d="M21 22C21 23.1046 20.1046 24 19 24C17.8954 24 17 23.1046 17 22C17 20.8954 17.8954 20 19 20C20.1046 20 21 20.8954 21 22Z"></path>
                </g>
              </svg>

              Add to cart
            </button>
          </div>

        </div>

      </div>

      <div class="product-text">

        <h2>Information:</h2>

        <div class="ql-container ql-snow" style="border-width: 0;">
          <div class="ql-editor" [innerHTML]="product.info" style="font-size: 16px;line-height: 22px"></div>
        </div>

      </div>

    </div>

  </section>

  <section class="container error-text-wrap" *ngIf="noProduct">
    <span>The product you're looking for is not existing, or was deleted by an administrator.</span>
    <img src="assets/img/404cat.png">
    <a routerLink="/" class="btn btn-primary">Main page</a>
  </section>
</div>

